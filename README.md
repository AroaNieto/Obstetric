# Deployment Manual

## Prerequisites - Installing Required Tools

1. **Java Development Kit (JDK) 17**
- Download and install JDK 17 from [Oracle's official website](https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html).

2. **Apache Maven 3.9.5**
- Download [Apache Maven 3.9.5](https://maven.apache.org/download.cgi).
- Unzip the ZIP file into a folder of your choice.
- Configure Maven:
- Go to "System Properties" → "Advanced Options" → "Environment Variables".
- Create a new environment variable called `MAVEN_HOME` with the path where you unzipped Maven.
- Add the Maven binary path to the `PATH` environment variable.

3. **Node.js (version 21.2.0)**
- Download and install Node.js 21.2.0 from [the official Node.js website](https://nodejs.org/en/download/package-manager).

4. **PostgreSQL 16.1**
- Download and install PostgreSQL 16.1 from [the official PostgreSQL website](https://nodejs.org/en/download/package-manager).

5. **pgAdmin 4**
- Download and install pgAdmin 4 from [the official pgAdmin website](https://www.pgadmin.org/download/).

## Database Configuration

1. **Create a User**
- **Option 1**
- Open pgAdmin and connect to your PostgreSQL server.
- Right-click PostgreSQL 16 → `Create` → `Login/Group Role...`.
- Create a new user role with name `username` and password `password`.
- **Option 2**
- Run the following command in the PostgreSQL terminal to create a new user.
- ```sh
CREATE DATABASE database_name OWNER username;
```
2. **Create a Database**
- **Option 1**
- In pgAdmin, right-click `Databases` → `Create` → `Database...`.
- Enter `database_name` as the database name and select user `username` as the owner.
- - **Option 2**
- Run the following command to create a new database and grant all permissions to the user on it.
- ```sh
CREATE DATABASE DB_name OWNER user_name;
GRANT ALL PRIVILEGES ON DATABASE DB_name TO user_name;
```

## Configure the `application.properties` File

1. **Modify the Configuration**
- Navigate to the project directory: `src/main/resources/application.properties`.
- Set the configuration parameters for the database:
```properties
spring.datasource.url=jdbc:postgresql://localhost:5432/DB_name
spring.datasource.username=user_name
spring.datasource.password=password
```

## Building and Running the Application

1. **Building the Project**
- Open a terminal or command line and navigate to the root directory of the project.
- Run the following command to build the project with Maven:
```sh
mvn clean package
```
- A `.jar` file will be generated in the `target` directory.

2. **Run the `.jar` File**
- Navigate to the `target` directory:
```sh
cd target
```
- Run the generated `.jar` file:
```sh
java -jar filename.jar
```
- Replace `filename.jar` with the name of the `.jar` file generated by Maven.

## Insert Initial Data

1. **Stop the Application**
- Stop the application if it is running.

2. **Insert Data into the Database**
- **Option 1**
- Open pgAdmin.
- Navigate to the `db_name` database and select the `user_data` table.
- Right-click on the table and select `Query Tool`.
- **Option 2** - Open a terminal or command line and run the following command to access the database - Copy and paste the following SQL to insert example data:

```sh
          psql -U nombre_user -d nombre_BD
```
```sql
       INSERT INTO user_entity (dtype,  address, age, dni, email, informed_consent, last_name, name, password_hash, phone, postal_code, profile_photo, role, sex, state, username, access_code, access_code_date, access_code_forgot_password, access_code_forgot_password_date, access_code_url_forgot_password, allergies, blood_type, chanel, family_background, fm, fur, menarche, number_of_abortions, number_of_pregnancies, personal_history, rh, state_messaging_system_patient, state_messaging_system_sanitary)
       VALUES
       ('SanitaryEntity', 'Calle Juan de Yepes', 33, '70836704Q', 'aroanieto123@gmail.com', NULL, 'Nieto Rodríguez', 'Aroa', '$2a$10$MHuKByreqxQgVrMAJTSLWecz5vMt7Nm/01hIGhe/HFTg5nHsW82BW', '606187538', '04002', NULL, 'administrador', 'Femenino', 'ACTIVO','aroa', NULL, NULL,  NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,NULL,NULL,NULL,NULL),
       ('SanitaryEntity', 'Calle Vereda del Esquileo', 33, '70836704J', 'arobi@hotmail.es', NULL, 'Nieto Pajares', 'Juan', '$2a$10$A48vHPLxFLxsKzzgVtQBSu7X6bqnMGlOJrl71o/GedR8wu3Ak59h.', '678930543', '04994', NULL, 'Ginecologo', 'Masculino', 'ACTIVO','juan', NULL, NULL,  NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,NULL,NULL,NULL,NULL),
       ('SanitaryEntity', 'Calle Patos De Goma, 44', 44, '70836704P', 'aroa123NR@usal.es', NULL, 'Nieto Cerdeño', 'Pedro', '$2a$10$BacHJlv4s1X0cYeRgwom5.1SIaP1.z3aXnpHrTjq34nLAy8heTmcq', '680641414', '05003', NULL, 'Matrona', 'Masculino', 'ACTIVO', 'pedro', NULL, NULL,  NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,NULL,NULL,NULL,NULL),
       ('PatientEntity', 'Calle Juan de Yepes', 44, '70836704M', 'arobi@hotmail.es', 'NULL', 'Perez Primo', 'Marta', '$2a$10$ckZqwyx2.hahL.vrB5gGKOttlMXKbxDAziHkrnMMlVznt9dK1LGFS', '4234234234', '03423', NULL, 'Paciente', 'Femenino', 'ACTIVO','marta', NULL, NULL,  NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,NULL,NULL,NULL,NULL),
       ('SanitaryEntity', 'Calle Sol y Luna', 55, '70836704M', 'davidgm0928@usal.es', NULL, 'Rodriguez Perez', 'Maria', '$2a$10$qAXRqrUhhkWt0K2P75RIqO9dE9M0qBGrDLQgxx5MyUqKyG0Jeh.by', '343234564', '03323', NULL, 'Secretario', 'Femenino', 'ACTIVO', 'maria', NULL, NULL,  NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,NULL,NULL,NULL,NULL);
 ```
   
```sql
      INSERT INTO category_entity ("date", "description", "name", "state")
      VALUES
      ('2024-06-29', 'Información sobre el embarazo | Todo lo que debes saber sobre él', 'Embarazo - ¿Qué debes saber?', 'ACTIVO'),
      ('2024-06-29', 'El parto humano, también llamado nacimiento, es la culminación del embarazo humano hasta el período de la salida del bebé del útero.', 'Parto', 'ACTIVO'),
      ('2024-06-29', 'El ejercicio físico moderado aporta beneficios a la mujer gestante durante el embarazo.', 'Salud y calidad de vida', 'ACTIVO'),
      ('2024-06-29', 'Enfermedades más frecuentes durante el embarazo y sus peculiaridades', 'Enfermedades durante el embarazo', 'ACTIVO'),
      ('2024-06-29', 'Qué medicamentos puede tomar durante el embarazo?', 'Medicamentos durante el embarazo', 'ACTIVO'),
      ('2024-06-29', 'Desarrollo del bebé recién nacido', 'Recién nacido', 'ACTIVO');
 ```

```sql
      INSERT INTO subcategory_entity ("date", "description", "name", "state", "category_entity_id")
      VALUES
      ('2024-06-29', 'Primeros síntomas del embarazo: ¿voy a tener un bebé?', 'Sintomas iniciales del embarazo', 'ACTIVO', '1'),
      ('2024-06-29', 'El desarrollo del feto semana a semana', 'Crecimiento y desarrollo del feto', 'ACTIVO', '1'),
      ('2024-06-29', 'Es la última de las etapas del embarazo: el bebé crece aceleradamente, acumula tejido graso y el útero, muy distendido, comienza a hacer presión sobre la vejiga y el estómago', 'Proceso final', 'ACTIVO', '1'),
      ('2024-06-29', 'Resuelve todas las dudas que te surjan en torno al momento del parto de manos de profesionales expertos y cercanos', 'Preparación', 'ACTIVO', '2'),
      ('2024-06-29', '¿Cómo es la preparación al parto? – Teoría y práctica', 'Inicio y sintomas iniciales', 'ACTIVO', '2'),
      ('2024-06-29', 'Los sentimientos de ansiedad, irritación, tristeza con llanto e inquietud son comunes en las dos primeras semanas después de tener a su bebé.', 'Depresión postparto', 'ACTIVO', '2'),
      ('2024-06-29', 'Alimentación durante el embarazo', 'Alimentación', 'ACTIVO', '3'),
      ('2024-06-29', 'Los ejercicios más aconsejables son caminar, bicicleta estática, elíptica, natación, aqua-gym, steps y ejercicios aeróbicos de baja intensidad.', 'Ejercicio', 'ACTIVO', '3'),
      ('2024-06-29', 'Consejos estéticos para cuidarte durante el embarazo', 'Belleza y cuidados', 'ACTIVO', '3'),
      ('2024-06-29', 'Otros nombres: Diabetes gestacional', 'Diabetes', 'ACTIVO', '4'),
      ('2024-06-29', 'Presión arterial alta en el embarazo', 'Hipertensión', 'ACTIVO', '4'),
      ('2024-06-29', 'Infórmate sobre los riesgos', 'Enfermedades cardíacas', 'ACTIVO', '4'),
      ('2024-06-29', 'Trastornos renales durante el embarazo', 'Enfermedades renales', 'ACTIVO', '4'),
      ('2024-06-29', 'Dolor durante el embarazo: cómo tratarlo con analgésicos', 'Analgesicos', 'ACTIVO', '5'),
      ('2024-06-29', '¿Es seguro tomar antibióticos durante el embarazo?', 'Antibioticos', 'ACTIVO', '5'),
      ('2024-06-29', 'Alimentación durante el embarazo', 'Alimentación', 'ACTIVO', '6'),
      ('2024-06-29', 'Cuidados del recién nacido', 'Cuidados', 'ACTIVO', '6'),
      ('2024-07-02', 'Estrés o ansiedad en el embarazo', 'Estrés o ansiedad', 'ACTIVO', '2');
 ```
 ```sql
       INSERT INTO newsletter_entity ("content_byte_pdf", "content_byte_url", "content_miniature", "date", "duration", "ending_date", "name", "quarter", "start_date", "state", "summary", "type_content", "url", "subcategory_entity_id")
       VALUES
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Síntomas del embarazo: Qué ocurre primero', 'Primero', '2024-07-01', 'ACTIVO', '¿Conoces los primeros síntomas del embarazo? Desde las náuseas hasta la fatiga.', 'WEB', 'https://www.mayoclinic.org/es/healthy-lifestyle/getting-pregnant/in-depth/symptoms-of-pregnancy/art-20043853', '1'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Preparación al parto', 'Tercero', '2024-07-01', 'ACTIVO', 'Semana 23. Preparación al Parto. Todo lo que debes saber', 'WEB', 'https://www.quironsalud.com/embarazoymaternidad/es/etapas/embarazada/segundo-trimestre/semana-23-preparacion-parto', '4'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Anual', '2024-10-01', '¿Cómo es la preparación al parto? – Teoría y práctica', 'Tercero', '2024-07-01', 'ACTIVO', 'Las clases de preparación al parto tienen como objetivo preparar física y mentalmente', 'WEB', 'https://www.reproduccionasistida.org/preparacion-parto/', '4'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Cómo PREPARARTE para el PARTO', 'Ninguno', '2024-07-01', 'ACTIVO', 'Curso Preparación Al Parto Completo', 'WEB', 'https://www.youtube.com/watch?v=AtYqrKxd--k&ab_channel=CarlaSarrat', '4'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Educación maternal. Preparación al parto', 'Tercero', '2024-07-01', 'ACTIVO', 'Una ayuda para llegar preparada físicamente y mentalmente al parto', 'WEB', 'https://www.quironsalud.com/embarazoymaternidad/es/servicios/embarazada/educacion-maternal-preparacion-parto', '4'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Sensaciones antes de ponerse de parto', 'Tercero', '2024-07-01', 'ACTIVO', '¿Rotura de aguas? ¿Contracciones? Señales seguras, pero a veces la cosa no está tan clara.', 'WEB', 'https://www.dodot.es/embarazo/dar-a-luz/articulo/senales-de-parto', '5'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Síntomas horas antes de ponerte de parto', 'Tercero', '2024-07-01', 'ACTIVO', 'Síntomas comunes horas y días antes del parto', 'WEB', 'https://www.hospitallamoraleja.es/es/actualidad/158/sintomas-antes-del-parto', '5'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Anual', NULL, '7 señales y síntomas de que el parto está cerca', 'Tercero', '2024-07-01', 'ACTIVO', '¿Cómo sé que el parto se acerca? ', 'WEB', 'https://www.natalben.com/senales-sintomas-parto-cerca', '5'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Depresión posparto', 'Ninguno', '2024-07-01', 'ACTIVO', 'Depresión en una mujer después de que ha dado a luz.', 'WEB', 'https://medlineplus.gov/spanish/ency/article/007215.htm#:~:text=Los%20sentimientos%20de%20ansiedad%2C%20irritaci%C3%B3n,pronto%2C%20sin%20necesidad%20de%20tratamiento.', '6'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Alimentación durante el embarazo', 'Ninguno', '2024-07-01', 'ACTIVO', 'Uno de los pilares para garantizar un correcto desarrollo del mismo.', 'WEB', 'https://www.comunidad.madrid/servicios/salud/alimentacion-embarazo', '7'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Alimentación durante el embarazo', 'Ninguno', '2024-07-01', 'ACTIVO', 'El embarazo es un proceso fisiológico en el que es importante llevar una vida saludable.', 'WEB', 'https://enfamilia.aeped.es/vida-sana/alimentacion-durante-embarazo-0', '7'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Nutrición durante el embarazo', 'Ninguno', '2024-07-01', 'ACTIVO', 'Otros nombres: Alimentación durante el embarazo, Dieta durante el embarazo, Embarazo y nutrición', 'WEB', 'https://medlineplus.gov/spanish/pregnancyandnutrition.html', '7'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Deporte durante el embarazo', 'Ninguno', '2024-07-01', 'ACTIVO', 'Beneficios, precauciones y ejercicios seguros', 'WEB', 'https://www.quironsalud.com/blogs/es/aventura-madre/deporte-embarazo-beneficios-precauciones-ejercicios-seguros', '8'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Semana 19. Ejercicio físico durante el embarazo', 'Ninguno', '2024-07-01', 'ACTIVO', '¿Qué ejercicio físico se puede realizar durante el embarazo?', 'WEB', 'https://www.quironsalud.com/embarazoymaternidad/es/etapas/embarazada/segundo-trimestre/semana-19-ejercicio-fisico-embarazo', '8'),
          (NULL, 'binary data', NULL, '2024-07-01', 'Indefinida', NULL, 'Ejercicios para hacer durante el embarazo', 'Ninguno', '2024-07-01', 'ACTIVO', 'Hacer actividad durante el embarazo puede tener muchos beneficios, como aliviar malestares y dolores', 'WEB', 'https://www.mayoclinic.org/es/healthy-lifestyle/pregnancy-week-by-week/in-depth/pregnancy-exercises/art-20546799', '8'),
          (NULL, 'binary data', NULL, '2024-07-02', 'Indefinida', NULL, 'El desarrollo del feto semana a semana', 'Ninguno', '2024-07-02', 'ACTIVO', 'La aventura de la vida desde la concepción hasta el parto', 'WEB', 'https://www.natalben.com/desarrollo-feto-semana-a-semana', '2'),
          (NULL, 'binary data', NULL, '2024-07-02', 'Indefinida', NULL, 'Embarazo y salud perinatal', 'Ninguno', '2024-07-02', 'ACTIVO', 'Análisis de la "Hoja resumen del embarazo"', 'PDF', '', '1'),
          (NULL, 'binary data', NULL, '2024-07-02', 'Indefinida', NULL, 'Cómo saber si estoy embarazada', 'Ninguno', '2024-07-02', 'ACTIVO', 'Síntomas y signos de embarazo en los primeros días', 'WEB', 'https://www.cun.es/chequeos-salud/embarazo/sintomas-embarazo', '1'),
          (NULL, 'binary data', NULL, '2024-07-02', 'Indefinida', NULL, 'Parto y postparto', 'Tercero', '2024-07-02', 'ACTIVO', 'El parto es el momento final del proceso de embarazo, en el que se produce el nacimiento del bebé.', 'WEB', 'https://www.comunidad.madrid/servicios/salud/parto-postparto#:~:text=El%20parto%20es%20el%20momento,produce%20el%20nacimiento%20del%20beb%C3%A9.', '3'),
          (NULL, 'binary data', NULL, '2024-07-02', 'Indefinida', NULL, 'Parto', 'Tercero', '2024-07-02', 'ACTIVO', 'Las fases del parto normal: dilatación, expulsivo y alumbramiento', 'WEB', 'https://inatal.org/el-parto/37-parto-normal-paso-a-paso/128-las-fases-del-parto.html', '3'),
          (NULL, 'binary data', NULL, '2024-07-02', 'Indefinida', NULL, 'Embarazo mes a mes: cambios en la embarazada y el bebé', 'Ninguno', '2024-07-02', 'ACTIVO', 'Embarazo mes a mes: cambios en la embarazada y el bebé', 'WEB', 'https://www.natalben.com/embarazo-mes-a-mes', '2'),
          (NULL, 'binary data', NULL, '2024-07-02', 'Indefinida', NULL, 'Salud de bebés y niños pequeños', 'Ninguno', '2024-07-02', 'ACTIVO', 'Cómo alimentar a tu bebé recién nacido: recomendaciones para los padres primerizos', 'WEB', 'https://www.mayoclinic.org/es/healthy-lifestyle/infant-and-toddler-health/in-depth/healthy-baby/art-20047741', '16'),
          (NULL, 'binary data', NULL, '2024-07-02', 'Anual', '2024-12-01', 'Atención farmacéutica a mujeres embarazadas', 'Ninguno', '2024-07-02', 'ACTIVO', 'Medicación y teratogenicidad', 'WEB', 'https://www.elsevier.es/es-revista-offarm-4-articulo-atencion-farmaceutica-mujeres-embarazadas-i--13035871#:~:text=El%20paracetamol%20es%20el%20analg%C3%A9sico,la%20lidoca%C3%ADna%20y%20la%20mepivaca%C3%ADna.', '14'),
          (NULL, 'binary data', NULL, '2024-07-02', 'Indefinida', NULL, 'Cuidados generales del recién nacido', 'Ninguno', '2024-07-02', 'ACTIVO', 'Regresar a casa con el nuevo miembro de la familia puede convertirse en unos días algo difíciles.', 'WEB', 'https://www.cun.es/chequeos-salud/infancia/cuidados-recien-nacido', '17'),
          (NULL, 'binary data', NULL, '2024-07-02', 'Indefinida', NULL, 'Diabetes gestacional', 'Ninguno', '2024-07-02', 'ACTIVO', 'Estado metabólico en el que los niveles de azúcar en sangre están elevados.', 'WEB', 'https://www.quironsalud.com/hospital-madrid/es/cartera-servicios/ginecologia-obstetricia/unidad-obstetricia/embarazos-alto-riesgo/diabetes-gestacional#:~:text=La%20diabetes%20gestacional%20es%20un,tenido%20diabetes%20previamente%20al%20embarazo.', '10'),
          (NULL, 'binary data', NULL, '2024-07-02', 'Indefinida', NULL, '¿Qué es la ansiedad?', 'Ninguno', '2024-07-02', 'ACTIVO', 'La ansiedad es una respuesta emocional, que permite que el organismo se ponga en alerta.', 'WEB', 'https://www.veritasint.com/blog/es/ansiedad-en-el-embarazo/', '18');
 ```
---

### Additional Considerations application.properties

- The date. variables housed in the Application properties, you can modify them as you wish. For example:
- date.email.admin: The email address of the application administrator. This address will receive important notifications, such as requests to delete user accounts. Change the email to whatever you want.
- date.message.forgotPassword: The text that will be sent to users when they request to reset their password. You can customize this message according to your application's communication style.
---
## Guide to using JavaDoc from the Web Interface

Once you have downloaded the application and deployed it following the instructions above, you can access the JavaDoc as follows:

### Generate the JavaDoc

Before you can view the documentation on the web, you need to generate the JavaDoc. Follow these steps:

1. Make sure you are in the root directory of the project.
2. Run the following command in the terminal to generate the documentation:

```bash
./mvnw javadoc:javadoc
```
3. Once the documentation has been generated, open the index.html file located in the target/site/apidocs directory with any browser. There you will be able to see all the generated documentation.